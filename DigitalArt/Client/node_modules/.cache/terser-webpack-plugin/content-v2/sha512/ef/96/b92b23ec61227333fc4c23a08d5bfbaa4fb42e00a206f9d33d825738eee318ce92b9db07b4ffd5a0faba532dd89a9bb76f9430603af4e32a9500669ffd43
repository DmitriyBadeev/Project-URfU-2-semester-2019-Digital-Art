{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{105:function(e,t,a){},232:function(module,exports,__webpack_require__){\"use strict\";(function(module){Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react);__webpack_require__(233);var _Loading=__webpack_require__(23),_Loading2=_interopRequireDefault(_Loading),_reactFontawesome=__webpack_require__(14),_Dropzone=__webpack_require__(62),_Dropzone2=_interopRequireDefault(_Dropzone),_reactRouterDom=__webpack_require__(8),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}enterModule=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var Setting=function(_React$Component){function Setting(e){_classCallCheck(this,Setting);var t=_possibleConstructorReturn(this,(Setting.__proto__||Object.getPrototypeOf(Setting)).call(this,e));return t.state={isLoadFile:!1,avatar:e.authUser.avatar},t}return _inherits(Setting,_React$Component),_createClass(Setting,[{key:\"clickHandler\",value:function(){var e=new FormData;\"\"!==this.nameInput.value?(e.append(\"Name\",this.nameInput.value),\"\"!==this.lastNameInput.value?(e.append(\"LastName\",this.lastNameInput.value),\"\"!==this.emailInput.value?(e.append(\"Email\",this.emailInput.value),e.append(\"Country\",this.countryInput.value),e.append(\"City\",this.cityInput.value),e.append(\"Avatar\",this.state.avatar),e.append(\"Id\",this.props.authUser.id),e.append(\"DateOfBirthDay\",this.dateOfBirthdayInput.value),e.append(\"Status\",this.statusInput.value),e.append(\"About\",this.aboutInput.value),this.props.putAuthUser(e)):document.getElementById(\"Setting_massage\").innerText=\"Введите email\"):document.getElementById(\"Setting_massage\").innerText=\"Введите фамилию\"):document.getElementById(\"Setting_massage\").innerText=\"Введите имя\"}},{key:\"getCurrentDateOfBirthday\",value:function(){var e=new Date(this.props.authUser.dateOfBirthday);return e.getFullYear()+\"-\"+(\"0\"+(e.getMonth()+1)).slice(-2)+\"-\"+(\"0\"+e.getDate()).slice(-2)}},{key:\"changeType\",value:function(e){\"text\"===e.target.type?e.target.type=\"date\":(e.target.value=this.getCurrentDateOfBirthday(e.target.value),e.type=\"text\")}},{key:\"loadHandler\",value:function(){this.setState({isLoadFile:!this.state.isLoadFile})}},{key:\"onFileAdded\",value:function(e){var t=this;this.setState({isLoadFile:!this.state.isLoadFile}),setTimeout(function(){var a=document.getElementById(\"Setting_avatar\"),r=new FileReader;r.onloadend=function(){return a.src=r.result},e?r.readAsDataURL(e):a.src=\"\",t.setState({avatar:e})},0)}},{key:\"resetInfo\",value:function(){location.reload()}},{key:\"render\",value:function(){var e=this;return this.props.isRedirect?(this.props.redirected(),_react2.default.createElement(_reactRouterDom.Redirect,{to:\"/profile/\"+this.props.authUser.id})):_react2.default.createElement(\"div\",{className:\"Setting__container\"},_react2.default.createElement(\"h1\",{className:\"Setting__header\"},\"Редактирование профиля\"),_react2.default.createElement(\"div\",{className:\"Setting__form\"},_react2.default.createElement(\"div\",{className:\"Setting__fields_wrapper\"},_react2.default.createElement(\"div\",{className:\"Setting__field\"},_react2.default.createElement(\"label\",{htmlFor:\"email\",className:\"Setting__label\"},\"Email: \"),_react2.default.createElement(\"input\",{type:\"email\",id:\"email\",className:\"input Setting__input\",defaultValue:this.props.authUser.email,placeholder:\"Введите свой email\",ref:function(t){return e.emailInput=t}})),_react2.default.createElement(\"div\",{className:\"Setting__field\"},_react2.default.createElement(\"label\",{htmlFor:\"name\",className:\"Setting__label\"},\"Имя: \"),_react2.default.createElement(\"input\",{type:\"text\",id:\"name\",className:\"input Setting__input\",placeholder:\"Введите ваше имя\",defaultValue:this.props.authUser.name,ref:function(t){return e.nameInput=t}})),_react2.default.createElement(\"div\",{className:\"Setting__field\"},_react2.default.createElement(\"label\",{htmlFor:\"lastName\",className:\"Setting__label\"},\"Фамилия: \"),_react2.default.createElement(\"input\",{type:\"text\",id:\"lastName\",className:\"input Setting__input\",placeholder:\"Введите вашу фамилию\",defaultValue:this.props.authUser.lastName,ref:function(t){return e.lastNameInput=t}})),_react2.default.createElement(\"div\",{className:\"Setting__field\"},_react2.default.createElement(\"label\",{htmlFor:\"dateOfBirthday\",className:\"Setting__label\"},\"Дата рождения: \"),_react2.default.createElement(\"input\",{type:\"date\",defaultValue:this.getCurrentDateOfBirthday(),id:\"dateOfBirthday\",className:\"input Setting__input\",ref:function(t){return e.dateOfBirthdayInput=t}})),_react2.default.createElement(\"div\",{className:\"Setting__field\"},_react2.default.createElement(\"label\",{htmlFor:\"country\",className:\"Setting__label\"},\"Страна: \"),_react2.default.createElement(\"input\",{type:\"text\",id:\"county\",className:\"input Setting__input\",placeholder:\"В какой стране вы живете?\",defaultValue:this.props.authUser.country,ref:function(t){return e.countryInput=t}})),_react2.default.createElement(\"div\",{className:\"Setting__field\"},_react2.default.createElement(\"label\",{htmlFor:\"city\",className:\"Setting__label\"},\"Город: \"),_react2.default.createElement(\"input\",{type:\"text\",id:\"city\",className:\"input Setting__input\",placeholder:\"Из какого вы города?\",defaultValue:this.props.authUser.city,ref:function(t){return e.cityInput=t}})),_react2.default.createElement(\"div\",{className:\"Setting__field\"},_react2.default.createElement(\"label\",{htmlFor:\"status\",className:\"Setting__label\"},\"Работа: \"),_react2.default.createElement(\"input\",{type:\"text\",id:\"status\",className:\"input Setting__input\",placeholder:\"Кто вы? Чем занимаетесь?\",defaultValue:this.props.authUser.status,ref:function(t){return e.statusInput=t}})),_react2.default.createElement(\"div\",{className:\"Setting__field\"},_react2.default.createElement(\"label\",{htmlFor:\"about\",className:\"Setting__label\"},\"О вас: \"),_react2.default.createElement(\"textarea\",{id:\"about\",className:\"input Edit__about\",placeholder:\"Расскажите немного о себе\",defaultValue:this.props.authUser.about,ref:function(t){return e.aboutInput=t}})),_react2.default.createElement(\"div\",{className:\"Setting_massage\",id:\"Setting_massage\"},this.props.massage),_react2.default.createElement(\"div\",{className:\"Setting__btn_group\"},_react2.default.createElement(\"div\",{className:\"alt-button Setting__btn\",onClick:this.resetInfo.bind(this)},\"Сбросить\"),_react2.default.createElement(\"div\",{className:\"button Setting__btn\",onClick:this.clickHandler.bind(this)},\"Изменить данные\"))),_react2.default.createElement(\"div\",{className:\"Setting__avatar\"},_react2.default.createElement(\"div\",{className:\"Setting__avatar_wrapper\"},this.props.isLoadingInfo?_react2.default.createElement(_Loading2.default,null):this.state.isLoadFile?_react2.default.createElement(_Dropzone2.default,{onFileAdded:this.onFileAdded.bind(this)}):_react2.default.createElement(\"img\",{src:\"data:image/JPEG;base64,\"+this.props.authUser.avatar,alt:\"avatar\",className:\"Setting_avatar\",id:\"Setting_avatar\"}),this.state.isLoadFile?null:_react2.default.createElement(\"div\",{className:\"Setting__cover\",onClick:this.loadHandler.bind(this)},_react2.default.createElement(_reactFontawesome.FontAwesomeIcon,{icon:\"cog\"}),\" \",_react2.default.createElement(\"span\",{className:\"Setting__cover_span\"},\"Изменить аватар\"))),_react2.default.createElement(\"p\",{className:\"Setting__warning\"},\"* рекомендуется загружать квадратное изображение\"))))}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Setting}(_react2.default.Component),_default=Setting,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(Setting,\"Setting\",\"C:/Users/Admin/Desktop/Digital Art/DigitalArt/DigitalArt/Client/src/components/Setting/Setting.js\"),reactHotLoader.register(_default,\"default\",\"C:/Users/Admin/Desktop/Digital Art/DigitalArt/DigitalArt/Client/src/components/Setting/Setting.js\")),leaveModule=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(3)(module))},233:function(e,t,a){},238:function(module,exports,__webpack_require__){\"use strict\";(function(module){Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_Setting=__webpack_require__(232),_Setting2=_interopRequireDefault(_Setting),_reactRouterDom=__webpack_require__(8),_reactRedux=__webpack_require__(11),_actions=__webpack_require__(24),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}enterModule=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var SettingContainer=function(_React$Component){function SettingContainer(){return _classCallCheck(this,SettingContainer),_possibleConstructorReturn(this,(SettingContainer.__proto__||Object.getPrototypeOf(SettingContainer)).apply(this,arguments))}return _inherits(SettingContainer,_React$Component),_createClass(SettingContainer,[{key:\"render\",value:function(){return _react2.default.createElement(_Setting2.default,{authUser:this.props.authUser,isLoadingInfo:this.props.isLoadingInfo,putAuthUser:this.props.putAuthUser,massage:this.props.massage,isRedirect:this.props.isRedirect,redirected:this.props.redirected})}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SettingContainer}(_react2.default.Component),mapStateToProps=function(e){return{authUser:e.userInfo.authUser,isLoadingInfo:e.userInfo.isLoading,massage:e.userInfo.massage,isRedirect:e.userInfo.isRedirect}},mapDispatchToProps=function(e){return{putAuthUser:function(t){return e((0,_actions.putAuthUser)(t))},redirected:function(){return e((0,_actions.redirected)())}}},_default=(0,_reactRouterDom.withRouter)((0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(SettingContainer)),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(SettingContainer,\"SettingContainer\",\"C:/Users/Admin/Desktop/Digital Art/DigitalArt/DigitalArt/Client/src/components/Setting/SettingContainer.js\"),reactHotLoader.register(mapStateToProps,\"mapStateToProps\",\"C:/Users/Admin/Desktop/Digital Art/DigitalArt/DigitalArt/Client/src/components/Setting/SettingContainer.js\"),reactHotLoader.register(mapDispatchToProps,\"mapDispatchToProps\",\"C:/Users/Admin/Desktop/Digital Art/DigitalArt/DigitalArt/Client/src/components/Setting/SettingContainer.js\"),reactHotLoader.register(_default,\"default\",\"C:/Users/Admin/Desktop/Digital Art/DigitalArt/DigitalArt/Client/src/components/Setting/SettingContainer.js\")),leaveModule=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(3)(module))},62:function(module,exports,__webpack_require__){\"use strict\";(function(module){Object.defineProperty(exports,\"__esModule\",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react);__webpack_require__(105);var _reactFontawesome=__webpack_require__(14),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}enterModule=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var Dropzone=function(_Component){function Dropzone(e){_classCallCheck(this,Dropzone);var t=_possibleConstructorReturn(this,(Dropzone.__proto__||Object.getPrototypeOf(Dropzone)).call(this,e));return t.state={hightlight:!1},t.fileInputRef=_react2.default.createRef(),t.openFileDialog=t.openFileDialog.bind(t),t.onFilesAdded=t.onFilesAdded.bind(t),t.onDragOver=t.onDragOver.bind(t),t.onDragLeave=t.onDragLeave.bind(t),t.onDrop=t.onDrop.bind(t),t}return _inherits(Dropzone,_Component),_createClass(Dropzone,[{key:\"openFileDialog\",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:\"onFilesAdded\",value:function(e){if(!this.props.disabled){var t=e.target.files[0];this.props.onFileAdded&&this.props.onFileAdded(t)}}},{key:\"onDragOver\",value:function(e){e.preventDefault(),this.props.disabled||this.setState({hightlight:!0})}},{key:\"onDragLeave\",value:function(){this.setState({hightlight:!1})}},{key:\"onDrop\",value:function(e){if(e.preventDefault(),!this.props.disabled){var t=e.dataTransfer.files[0];this.props.onFileAdded&&this.props.onFileAdded(t),this.setState({hightlight:!1})}}},{key:\"render\",value:function(){return _react2.default.createElement(\"div\",{className:\"Dropzone \"+(this.state.hightlight?\"Highlight\":\"\"),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?\"default\":\"pointer\"}},_react2.default.createElement(\"input\",{ref:this.fileInputRef,className:\"FileInput\",type:\"file\",multiple:!0,onChange:this.onFilesAdded}),_react2.default.createElement(\"span\",{className:\"Dropzone__span\"},_react2.default.createElement(_reactFontawesome.FontAwesomeIcon,{icon:\"file-download\",className:\"Dropzone__icon\"}),_react2.default.createElement(\"br\",null),\" Нажмите, чтобы выбрать файл или перетащите его в эту область\"))}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Dropzone}(_react.Component),_default=Dropzone,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(Dropzone,\"Dropzone\",\"C:/Users/Admin/Desktop/Digital Art/DigitalArt/DigitalArt/Client/src/components/general/Dropzone/Dropzone.js\"),reactHotLoader.register(_default,\"default\",\"C:/Users/Admin/Desktop/Digital Art/DigitalArt/DigitalArt/Client/src/components/general/Dropzone/Dropzone.js\")),leaveModule=(\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(3)(module))}}]);","extractedComments":[]}